---
title: "4. Number Theory"
date: 2024-10-15 00:01:00 +0900
categories: [학부 수업, (3-2) Cryptography]
tags: [cryptography]     # TAG names should always be lowercase
math: true
mermaid: true
---

### [4.1] Division Theroem
---
저번 챕터에서 $NP$에 속하는 소인수분해 문제와 $P$에 속하는 소수 판별 문제가 있다는 것을 알았다. 이 내용을 배우기 위해서는 정수와 Modular 세계의 특징에 대해서 먼저 알아볼 필요가 있다.

$b$가 $a$로 나누어 떨어진다의 정의를 $b = ca \text{ for some } c \in \mathbb{Z}$이라고 하자. 아래 명제들은 이와 동치이다.

- $a \vert b$
- $a$ divides $b$
- $a$ is divisor of $b$
- $b$ is multiple of $a$

위의 사실로 인해 중요한 성질이 몇가지 도출된다.

- $a\vert b  \text{ and } a\vert c$, then $a\vert (bx+cy)$ 
    - $b = k_1a, c = k_2a$ 라 하자. $bx+cy = k_1ax + k_2ay = (k_1x + k_2y) \times a$ 이므로 정의에 의해 증명 완료.
- $a\vert b \text{ and } b\vert c$, then $a\vert c$
    - $b = k_1a, c = k_2b$ 라 하자. $c = k_2(k_1a) = (k_2k_1)\times a$ 이므로 정의에 의해 증명 완료.


#### Division Theorem

> $a > 0, b > 0$에 대해 $b = qa + r\ (0 \le r < \vert a\vert)$ 인 유일한 정수 $q, r$이 존재한다.
{: .prompt-info}

1. $q, r$이 유일함을 증명해야 하므로 $q, r$이 유일하지 않다고 가정하자. 즉, 서로 다른 정답 $(q_1, r_1) \neq (q_2, r_2)$이 존재한다고 가정하자.

2. $b = q_1 a + r_1 = q_2a + r_2$ 이다.

3. 만약 $r_1 = r_2$ 이면 $q_1 = q_2$ 이므로 모순이다.

4. 만약 $r_1 > r_2$ 이면 $0 \le r_2 < r_1 < a$ 이므로 $(q_2 - q_1) a = r_2 - r_1$이다.
$0 < r1 - r_2 < a$ 이므로 우변은 $a$의 배수가 될 수 없으나, 좌변은 $a$의 배수이므로 모순이다.

5. 따라서, q, r은 유일하게 존재한다.


### [4.2] Greatest Common Divisor
---
최대공약수 (GCD)의 정의는 다음과 같이 두 가지가 존재한다.

> $Def\ 1$: 공약수 집합 중 최댓값을 의미한다.
{: .prompt-info}

> $Def\ 2$: 양의 정수 $a, b$에 대해 다음 조건을 만족하는 정수 $d$가 유일하게 존재한다.
- $d \vert a \text{ and } d \vert b$
- for all possible $c, c\vert a \text{ and } c\vert b \text{ impliies } c\vert d$
- $d \ge 0$
{: .prompt-warning}

$Def\ 2$에 따르면 최대공약수가 존재하지 않을 가능성도 있다. 따라서 모든 $Def\ 2$가 $Def\ 1$이라고 할 수는 없지만, 모든 $Def\ 1$은 $Def\ 2$를 만족한다. 이를 증명하기 위해 유클리드 호제법 (알고리즘)을 살펴보자.

#### Euclid Algorithm

양수 $a < b$ 에 대해 $\gcd(a, b)$는 다음과 같이 구할 수 있다.
- $b = q_1 a + r_1$
- $a = q_2 r_1 + r_2$
- $r_1 = q_3 r_2 + r_3$
- $\dots$ 
- $r_k-1 = q_{k+1} r_k$

$r_k$와 $r_k-1$의 최대공약수는 $r_k$이다! 이 값이 곧 $a, b$의 GCD이다.

#### Correctness of Euclid
> $b = qa + r$이면 $\gcd(b, a) = \gcd(a, r)$
{: .prompt-tip}

- $b = qa + r$이므로 $c\vert a, c\vert r$ 이면 $ c\vert b$ 이므로 $c\vert a$ and $c\vert b$ 이다.
- $b - qa = r$이므로 $c\vert b, c\vert a$ 이면 $c\vert r$이다.
즉, $c\vert a, c\vert b$ 이면 $c\vert a, c\vert r$ 이다. 또한 $c\vert a, c\vert r $이면 $c\vert a, \vert b $이다.
- 정의에 의해 $a, b$의 공약수 집합과 $a, r$의 공약수 집합이 같다. 따라서 최대공약수도 같다.

#### Extended Euclid
유클리드 호제법을 역연산하면 $d = \gcd(a, b)$에 대하여 아래와 같은 등식이 유도된다.

$$d = ax + by \text{ for some } x, y \in \mathbb{Z}$$ 

위의 결과로부터 알 수 있는 것은 **$a, b$의 일차결합의 결과는 항상 최대공약수의 배수**라는 점이다. 이를 이용해 아래와 같은 중요한 정리들을 도출해낼 수 있다.

- $$ \gcd(a, b) = 1 \iff ax + by = 1 \text{ for some } x, y \in \mathbb{Z} $$

### [4.3] Number System
---


유클리드 호제법 -> 역연산: gcd(a, b) = ax + by
-> a, b는 d의 배수이므로 이 전체 ax+by가 d의 배수

x, y를 잘 바꿔주면 모든 d의 배수를 구할 수 있다!
a, b의 일차결합으로 최대공약수의 배수는 전부 만들 수 있다.

물통 예제
물통1은 a리터, 물통2는 b리터라 하자.
물통1에 x리터만 남겨야 하면 가능한 x의 조건은?
a, b의 최대공약수여야 한다!
-> 최대공약수의 배수는 전부 남길 수 있다

암호에서 메시지를 이진수라 생각.
평문보다 암호문이 너무 길어지면 곤란하다.
사이즈를 줄이는 방법은? 

ex) m = 7
Z_7 = {0, 1, 2, 3, 4, 5, 6}
+ 0 1 2 3 4 5 6 
0 0 1 2 3 4 5 6
1 1 2 3 4 5 6 0
2 2 3 4 5 6 0 1
...

덧셈은 너무 평이할것같음

x 0 1 2 3 4 5 6
0 0 0 0 0 0 0 0
1 0 1 2 3 4 5 6
2 0 2 4 6 1 3 5
3 0 3 6 2 5 1 4 
4 0 4 1 5 2 6 3
5 0 5 3 1 6 4 2
6 0 6 5 4 3 2 1

d = ax + my
a는 집합의 원소 0 1 2 3 4 5 6
y는 7이라 하자.

a, m의 최대공약수는 항상 1이다.
1 = ax + my
ax = (-y)m + 1

우변을 m으로 나눈 나머지가 1이므로 좌변을 m으로 나눈 나머지도 1이여야 한다.

연산 시스템을 만드는 axiom

따라서, a는 x의 역원이 된다!
Z7은 새로운 연산 시스템!

0이 두개 존재한다면? 0, 0'

all a, a + 0 = 0 + a = a
all a, a +0' = 0'+ a = a

0은 두개 존재할 수 없음!

음수의 정의: 덧셈의 역원
(-a) + a = a + (-a) = 0

이를 통해 -a = (-1) * a 로 정의

곱셈의 항등원은 1
a * 1 = 1 * a = a

역원: a^-1

이를 통해 a / b = a * b^(-1)로 정의

이제 7로 나눈 나머지들의 시스템을 보자.
모든 원소가 나와 곱해서 1이 나오는 원소가 있음 - 곱셈의 역원 관계
-> 역원이 있으니까 나누기를 정의할 수 있다!

m = 15라 해보자

6에 뭘 곱해도 곱셈표에 1이 안나온다.
6의 곱셈의 역원이 없다! 이 집합에선 나누기가 정의가 안된다.

사칙연산을 다 하려면 mod의 단위가 prime 소수여야 한다!
-> mod p 사용
암호 시스템을 구축하려면 사칙연산을 다 해야함 -> mod p를 사용

POINT
연산을 하는 자연수, 정수, 실수 등은 사람이 만든 것 - axiom으로부터 만든것 
현실 물리에 적용되서 배우는것

Mod 시스템
